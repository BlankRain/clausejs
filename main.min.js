!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("specky")):"function"==typeof define&&define.amd?define(["react","specky"],e):"object"==typeof exports?exports.S=e(require("react"),require("specky")):n.S=e(n.React,n.S)}(this,function(n,e){return function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=n,e.c=r,e.i=function(n){return n},e.d=function(n,e,r){Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=72)}([function(n,e){function r(n,e,r,o){if(this.isProblem=!0,4!==arguments.length)throw"Problem arg len err";this.val=n,this.name="Problem",this.failsPredicate=e,this.message=t(o,n,r),this.subproblems=r}function t(n,e,r){if(Array.isArray(r)){if(0===r.length)return n+"; val: "+JSON.stringify(e);var t=r.map(function(n){return"("+n.message+")"});return n+", because "+t.join(", ")}if("object"===("undefined"==typeof r?"undefined":o(r))){var t=[];for(var i in r)t.push("("+i+": "+t.message+")");return n+", because "+t.join(", ")}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};n.exports=r},function(n,e,r){function t(n){return n instanceof o}var o=r(0);n.exports=t},function(n,e){function r(n,e,r,t,o){if(5!==arguments.length)throw new Error("Wrong number of arguments ("+arguments.length+") passed to Spec constructor");if(!Array.isArray(e))throw new Error("Expect an array of specs");this.type=n,r&&(this.opts=r),t&&(this.conform=t),o&&(this.generate=o),this.exprs=e}n.exports=r},function(n,e,r){function t(n){return!!n&&n instanceof o}var o=r(2);n.exports=t},function(n,e){"use strict";function r(n){if(null===n||void 0===n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function t(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de","5"===Object.getOwnPropertyNames(n)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var t=Object.getOwnPropertyNames(e).map(function(n){return e[n]});if("0123456789"!==t.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(n){o[n]=n}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(n){return!1}}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;n.exports=t()?Object.assign:function(n,e){for(var t,u,a=r(n),f=1;f<arguments.length;f++){t=Object(arguments[f]);for(var c in t)o.call(t,c)&&(a[c]=t[c]);if(Object.getOwnPropertySymbols){u=Object.getOwnPropertySymbols(t);for(var s=0;s<u.length;s++)i.call(t,u[s])&&(a[u[s]]=t[u[s]])}}return a}},function(n,e,r){function t(n){if(a(n)||f(n)||c(n))return n;if(u(n))return o(n);throw new Error("Expression must either be a Spec object or a predication function that returns true or false. ")}function o(n){return new s(v,[n],null,i(n),null)}function i(n){return function(e){return n(e)?e:new l(e,n,[],"Predicate "+p(n)+" returns false")}}var u=r(7),a=r(3),f=r(31),c=r(29),s=r(2),l=r(0),p=r(11),v="PRED";n.exports=t},function(n,e,r){function t(n,e,r){var t=r.phase,u=(r.conform,r.instrument,o(n));if(t){if(u[t])return u[t](e,r);throw"!"}var a=u.trailblaze(e,i({phase:"trailblaze"},r));return m(a)?a:u.reconstruct(a,i({phase:"reconstruct"},r))}function o(n){var e,r=d(n);if(["OR","CAT","Z_OR_M","O_OR_M","Z_OR_O"].indexOf(r.type)>=0)e=u;else if(["COLL_OF"].indexOf(r.type)>=0)e=l;else if("PRED"===r.type)e=a;else if("PROPS"===r.type)e=c;else if("AND"===r.type)e=s;else if("SpecRef"===r.type)e=p;else if("Delayed"===r.type)e=v;else{if("FSPEC"!==r.type)throw"unsupported type "+r.type;e=f}var o=e(r,t);return o}var i=r(4),u=r(58),a=r(59),f=r(57),c=r(60),s=r(54),l=r(55),p=r(61),v=r(56),d=r(5),m=r(1);n.exports=t},function(n,e,r){function t(n){return o(n)}var o=r(15);r(2);n.exports=t},function(n,e){function r(n){return null!==n&&void 0!==n&&n.constructor===String}n.exports=r},function(n,e,r){function t(n){var e=new o("FSPEC",[],n,null,null);return e.instrumentConformed=function(n){return i(e,n,{conform:!0,instrument:!0})},e.instrument=function(n){return i(e,n,{conform:!1,instrument:!0})},e}var o=r(2),i=r(6);n.exports=t},function(n,e){n.exports=function(n){return void 0===n}},function(n,e){function r(n){var e=n.toString();return e=e.substr("function ".length),e=e.substr(0,e.indexOf("("))}n.exports=r},function(n,e,r){var t=r(4),o=r(14),i=r(20),u=i.props,a=i.keys,f={and:r(35),any:r(36),fspec:r(9)},c=t({},o,{props:u,keys:a},f);n.exports=c},function(n,e,r){var t=r(24),o=r(46),i=r(23),u=r(44),a=r(15),f=r(25),c=r(42),s=r(26),l=r(8),p=r(45),v=r(43),d=r(48),m=Array.isArray,h={isNull:r(47),isUndefined:r(10),notEmpty:r(49),isBool:u,isBoolean:u,isFn:a,isFunction:a,isNum:t,isNumber:t,isNatInt:o,isNaturalNumber:o,isInt:i,isInteger:i,isObj:f,isObject:f,isStr:l,isString:l,isArray:m,isArr:m,equals:c,equalsTo:c,oneOf:s,isDate:p,instanceOf:v,isUuid:d,isUUID:d};h.default=h,n.exports=h},function(n,e,r){function t(n){return v(n,function(e){var r;if(e.named){r=e.named;var t=r.map(function(n){var e=n.expr,r=c(e);return i({},n,{expr:r,spec:void 0,pred:void 0,specRef:void 0,delayedSpec:void 0})}),o=new u(n,t,null,null,null);return o.conform=function(n){return g(o,n,{conform:!0})},o}if(e.unnamed){r=e.unnamed;var t=r.map(function(n){if(n.spec){var e=n.spec;return i({},n,{expr:e,spec:void 0})}if(n.pred){var e=y(n.pred);return i({},n,{expr:e,pred:void 0})}if(n.specRef){var e=n.specRef;return i({},n,{expr:e,specRef:void 0})}if(n.delayedSpec){var e=n.delayedSpec;return i({},n,{expr:e,delayedSpec:void 0})}throw console.error(n),"Not implemented"}),o=new u(n,t,null,null,null);return o.conform=function(n){return g(o,n,{conform:!0})},o}})}function o(n){return v(n,function(e){var r,t=e.expr,o=e.opts;if(t.spec)r=t.spec;else if(t.pred)r=y(t.pred);else if(t.specRef)r=t.specRef;else{if(!t.delayedSpec)throw"internal err";r=t.delayedSpec}var i=new u(n,[y(r)],o,null,null);return i.conform=function(n){return g(i,n,{conform:!0})},i})}var i=r(4),u=r(2),a=r(3),f=r(7),c=r(17),s=r(25),l=r(8),p=r(52),v=r(32),d=r(31),m=r(29),h=r(37),y=r(5),x=r(9),g=r(6),b=y(a),O=y(p),w=t(h.CAT),S=t(h.OR),_=o(h.Z_OR_M),A=o(h.O_OR_M),E=o(h.Z_OR_O),R=o(h.COLL_OF),k=S({named:[{name:"specRef",expr:{spec:d}},{name:"pred",expr:{pred:f}},{name:"delayedSpec",expr:{spec:m}},{name:"spec",expr:{pred:a}}]}),P=w({named:[{name:"name",expr:{spec:O}},{name:"expr",expr:{spec:k}}]}),j=w({named:[{name:"name",expr:{spec:O}},{name:"comment",expr:{spec:l}},{name:"expr",expr:{spec:k}}]}),C=S({unnamed:[{spec:P},{spec:j}]}),M=S({named:[{name:"named",expr:{spec:S({unnamed:[{spec:_({expr:{spec:C}})},{spec:R({expr:{spec:C}})}]})}},{name:"unnamed",expr:{spec:_({expr:{spec:k}})}}]}),F={args:M,ret:b},D={args:w({named:[{name:"expr",expr:{spec:k}},{name:"opts",expr:{spec:E({expr:{pred:s}})}}]}),ret:b},z=x(D).instrumentConformed(R),N={cat:x(F).instrumentConformed(w),or:x(F).instrumentConformed(S),zeroOrMore:x(D).instrumentConformed(_),zeroOrOne:x(D).instrumentConformed(E),oneOrMore:x(D).instrumentConformed(A),ExprSpec:k,collOf:z,arrayOf:z};N.alt=N.or,N["*"]=N.zeroOrMore,N["+"]=N.oneOrMore,N["?"]=N.zeroOrOne,n.exports=N;S({named:[{name:"named",expr:{spec:S({unnamed:[{spec:_({expr:{spec:C}})},{spec:R({expr:{spec:C}})}]})}},{name:"unnamed",expr:{spec:_({expr:{spec:k}})}}]})},function(n,e){function r(n){var e={};return(n||!1)&&"[object Function]"===e.toString.call(n)}n.exports=r},function(n,e,r){function t(n,e){if(n&&o(n)){var r=n.conform(e);return r}throw new Error("Expression needs to be of type Spec. expression: "+n+", offending value: "+e)}var o=r(3);n.exports=t},function(n,e,r){var t=r(5);n.exports=function(n){if(n.spec)return n.spec;if(n.pred)return t(n.pred);if(n.specRef)return n.specRef;if(n.delayedSpec)return n.delayedSpec;throw console.error(n),"Not implemented"}},function(n,e,r){(function(e){function t(n){return S(n)}function o(n){var e=function(e){var r=s;r=e?e+n:n;var t=l.get(s,r);return t?t.expr:void 0},r=new v({ref:n,getFn:e,conformFn:null});return r.conform=function(n){var r=e();return E(r,n,{conform:!0})},r}function i(n){var e;if(n.def){var r=n.def.name,t=n.def.val;e=u(r,t)}else if(n.get){var r=n.get.name,o=k(r);e=o}return e}function u(n,e){if(e.expr){var r=e.expr;if(r.spec||r.pred){var t=r.spec||r.pred;return M(n,{expr:t}),t}throw console.error(r),"internal erro"}if(!e.partialRefMap)throw console.error(e),"no impl";var o=e.partialRefMap.refDefs;for(var i in o)if(o.hasOwnProperty(i)){u(o[i])}}function a(n){return n instanceof v}function f(){return s||c(),s}function c(){s=e[F]={}}var s,l=r(64),p=r(4),v=r(22),d=r(12),m=d.cat,h=d.or,y=d.fspec,x=d.ExprSpec,g=r(20),b=g.props,O=r(3),w=r(7),S=r(8),_=r(30),A=r(10),E=r(6),R=r(27),k=y({args:m(t),ret:a}).instrument(o),P=h("expr",R(function(){return x})),j=y({args:h("def",m("name",t,"val",P),"get",m("name",t)),ret:h(a,_)}),C=b({req:{expr:h(O,w)}}),M=y({args:m(t,C),ret:A}).instrument(function(n,e){f();var r=l.get(s,n);l.set(s,n,p({},r,e))}),F="___SPECKY_REGISTRY";f();var D=j.instrumentConformed(i);D.clearRegistry=c,n.exports=D}).call(e,r(65))},function(n,e,r){n.exports={conform:r(16),isValid:r(53),identity:r(28),isProblem:r(1),delayed:r(27),enforce:r(51)}},function(n,e,r){function t(n){return a(n)}function o(n){var e=new i(y,[n],null,null,null);return e.conform=function(n){return m(e,n,{conform:!0})},e}var i=r(2),u=r(3),a=r(8),f=(r(15),r(26)),c=r(5),s=r(14),l=s.cat,p=s.or,v=s.zeroOrMore,d=s.ExprSpec,m=r(6),h=r(9),y="PROPS",x=o({propArgs:{optionalFields:{opt:{fieldDefs:{fields:{fields:{keyValExprPair:{keySpecAlts:{spec:c(a)},valSpecAlts:{spec:p("valSpecAltsOnly",d,"keyValExprPair",l("keySpecAlts",d,"valSpecAlts",d))}}}}}}}}}),g=v(t),b=p("keyList",g,"fieldDefs",x),O=o({propArgs:{optionalFields:{opt:{fieldDefs:{fields:{requiredFields:{keyValExprPair:{keySpecAlts:{pred:f("req","required")},valSpecAlts:{spec:b}}},optionalFields:{keyValExprPair:{keySpecAlts:{pred:f("opt","optional")},valSpecAlts:{spec:b}}}}}}}}}),w=h({args:l("propArgs",O),ret:u}),S=w.instrumentConformed(o);n.exports={props:S,keys:S}},function(n,e){function r(n){var e=n.getFn;this.type="Delayed",this.get=e;var r=this;["conform","instrument"].forEach(function(n){r[n]=function(r){var t=e();return t[n].call(this,r)}})}n.exports=r},function(n,e){function r(n){var e=n.ref,r=n.getFn,t=n.conformFn;this.type="SpecRef",this.get=r,this.conform=t,this.ref=e}n.exports=r},function(n,e){function r(n){return"number"==typeof n&&(Math.floor(n)===n&&n!==1/0)}n.exports=r},function(n,e){function r(n){return"number"==typeof n}n.exports=r},function(n,e){function r(n){return"object"===("undefined"==typeof n?"undefined":t(n))&&null!==n}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};n.exports=r},function(n,e){n.exports=function(n){var n;if(1===arguments.length&&Array.isArray(arguments[0]))n=arguments[0];else{if(!(arguments.length>0))throw new Error("Items list is required.");n=Array.from(arguments)}return function(e){return n.indexOf(e)>=0}}},function(n,e,r){function t(n){return new o({getFn:n})}var o=r(21);n.exports=t},function(n,e){function r(n){return n}n.exports=r},function(n,e,r){var t=r(21);n.exports=function(n){return n instanceof t}},function(n,e,r){function t(n){return o(n)||i(n)}var o=r(7),i=r(3);n.exports=t},function(n,e,r){var t=r(22);n.exports=function(n){return n instanceof t}},function(n,e){function r(n,e,r){return n?new Function("action","return function "+n+(r||"")+"(){ return action.apply(this, arguments); };")(e):e}n.exports=r},function(n,e,r){"use strict";var t=r(63),o=r(66);e.default=r.i(t.a)(o.Component)},function(n,e,r){var t=r(33);n.exports={SpeckyComponent:t}},function(n,e,r){function t(n){var e=n.exprs,r=new u("AND",e,null,null,null);return r.conform=function(n){return p(r,n,{conform:!0})},r}var o=r(13),i=(o.isBool,o.isFn,r(30),r(3)),u=(r(1),r(2)),a=(r(0),r(14)),f=a.oneOrMore,c=(a.zeroOrOne,a.or,a.cat),s=a.ExprSpec,l=r(9),p=r(6),v=l({args:c("exprs",f(s)),ret:i});n.exports=v.instrumentConformed(t)},function(n,e,r){function t(){return new o(u,[],null,i,null)}var o=r(2),i=r(28),u="ANY";n.exports=t},function(n,e){n.exports={CAT:"CAT",OR:"OR",Z_OR_M:"Z_OR_M",Z_OR_O:"Z_OR_O",O_OR_M:"O_OR_M",PRED:"PRED",COLL_OF:"COLL_OF"}},function(n,e,r){function t(n){var e;if(null===n.type)throw"Spec has no type: "+n;e=n.type in f?f[n.type]:f.PRED;var r=e(n);return r}function o(n){return new u("ROOT",[n],null,null,null)}var i=r(39),u=r(2),a=function(n){for(var e=0,r=[n.head],t=[];r.length>0;){var o=r.pop();null===o.index&&(o.index=e,e++,o.transitions.forEach(function(n){r.push(n.target)}),t.push(o))}return t},f={},c=function(n){return function(e){var r=t(e.exprs[0]);return n(r)}},s=function(n){return function(e){var r=e.exprs.map(function(n){var e=t(n.expr);return e.name=n.name,e});return n(r)}};["ROOT","Z_OR_M","O_OR_M","Z_OR_O"].forEach(function(n){f[n]=c(i[n])}),["OR","CAT"].forEach(function(n){f[n]=s(i[n])}),f.PRED=function(n){return i.PRED(n)};var l=function(n){var e,r=o(n),i=t(r),u=a(i),f=u.length,c={};return u.forEach(function(n){0===n.transitions.length&&(e=n.index);var r={};n.transitions.forEach(function(n){r[n.target.index]=n.spec}),c[n.index.toString()]=r}),{initialState:0,numStates:f,finalState:e,transitions:c,expression:n}};n.exports=l},function(n,e){function r(n,e){n.forEach(function(n){n.target=e})}function t(){return{isEpsilon:!0}}function o(n,e,r,o){var i=t();return i.name=e,i.op=r,i.group=o,i.dir=n,i}function i(n,e){var r=f(n,e.head),t=a([r]),o=c(t,e.tails);return o}function u(n,e){var t=f(n,null),o=a([t],null);r(e.tails,o);var i=c(e.head,[t]);return i}var a=function(n,e){return{transitions:null===n?[]:n,index:e||null}},f=function(n,e){return{spec:n,target:e}},c=function(n,e){return{head:n,tails:e}},s=function(n,e,r){var t=c(e,r);return t.name=n,t},l={};l.PRED=function(n){var e=f(n,null),r=a([e],null),t=[e],o=c(r,t);return o},l.CAT=function(n){var e=function(n,e){r(n.tails,e.head);var t=n.head,o=e.tails,i=c(t,o);return i};n=n.map(function(n){var e=f(o("out",n.name,"CAT"),null),t=a([e]);r(n.tails,t);var i=n.head.transitions.map(function(e){var r=a([e]),t=f(o("in",n.name,"CAT"),r);return t}),u=a(i),c=s(n.name,u,[e]);return c});var l;if(n.length>0)l=n.reduce(e);else{var p=t(),v=f(p,null),d=a([v]);l=c(d,[v])}return l=i(o("multi_enter",null,"CAT","in"),l),l=u(o("multi_exit",null,"CAT","out"),l)},l.OR=function(n){n=n.map(function(n){var e=o("out",n.name,"OR"),t=f(e,null),i=a([t]);r(n.tails,i);var u=f(o("in",n.name,"OR"),n.head),c=a([u]),l=s(n.name,c,[t]);return l});var e=function(n,e){var r=n.head.transitions.concat(e.head.transitions),t=a(r),o=n.tails.concat(e.tails),i=s(n.name,t,o);return i},t=n.reduce(e);return t=i(o("enter",null,"OR"),t),t=u(o("exit",null,"OR"),t)},l.Z_OR_M=function(n){var e="Z_OR_M",s=f(o("loop",null,e),n.head),l=f(t(),null),p=a([s,l]);r(n.tails,p);var v=c(p,[l]),d=v.head.transitions.map(function(n){var e=a([n]),r=f(t(),e);return r}),m=a(d);return v=c(m,v.tails),v=i(o("maybe_enter",null,e,"in"),v),v=u(o("maybe_exit",null,e,"out"),v)},l.O_OR_M=function(n){var e="O_OR_M",s=f(o("loop",null,e),n.head),l=f(t(),null),p=a([s,l]);r(n.tails,p);var v=c(n.head,[l]);return v=i(o("maybe_enter",null,e,"in"),v),v=u(o("maybe_exit",null,e,"out"),v)},l.Z_OR_O=function(n){var e="Z_OR_O",r=f(o("loop",null,e),n.head),s=f(t(),null),l=a([r,s]),p=n.tails.concat([s]),v=c(l,p);return v=i(o("maybe_single_enter",null,e),v),v=u(o("maybe_single_exit",null,e),v)},l.ROOT=function(n){var e=a(null,null);return r(n.tails,e),c(n.head,[])},n.exports=l},function(n,e,r){function t(n,e,r){var t=r.conform;!n||!n.forEach;var d=[],m={};if(n.forEach(function(n){if(n.move)switch(n.move.dir){case"enter":d.push(f);break;case"multi_enter":d.push(c);break;case"maybe_enter":d.push(s);break;case"maybe_single_enter":d.push(l);break;case"in":d.push(new p(n.move.name));break;case"loop":null!==d[d.length-1]&&d.push(a);break;case"pred":var m=e(n.spec,n.guide,r);d.push(m);break;case"out":var h=d.pop();if(!(h instanceof p)){var y,x=d.pop().value;null!==x&&void 0!==x&&t?(y={},u(h)||(y[x]=h)):y=new v(h),d.push(y)}break;case"maybe_single_exit":for(var g=d.pop(),b=null;g!==l;)g!==a&&(b=g),g=d.pop();null===b&&(b=void 0),d.push(b);break;case"maybe_exit":for(var g=d.pop(),b=null;g!==s;)g!==a&&(b=o(b,g)),g=d.pop();null===b&&(b=[]),d.push(b);break;case"multi_exit":for(var g=d.pop(),b=null;g!==c;)b=g instanceof v?null===b?[g.value]:[g.value].concat(b):i({},g,b),g=d.pop();null===b&&(b=[]),d.push(b);break;case"exit":for(var g=d.pop(),b=null;g!==f;)b=g instanceof v?null===b?g.value:[g.value].concat(b):i({},g,b),g=d.pop();null===b&&(b=[]),d.push(b);break;default:throw console.error(n),"FUUU"}}),1!==d.length)throw console.error("valStack",d),"!valStack.length";var m=d.pop();return m}function o(n,e){var r;return r=null===n?[e]:Array.isArray(n)?[e].concat(n):[e,n]}var i=r(4),u=(r(0),r(10)),a=function(){},f=function(){},c=function(){},s=function(){},l=function(){},p=function(n){this.value=n},v=function(n){this.value=n};n.exports=t},function(n,e,r){function t(n,e,r,t){for(var u,a={matched:!1,chain:null},f={state:0,offset:0,leftOff:0,input:[e],groupCount:0,arrayed:!1},c=[f];c.length>0;){var s=c.shift(),l=s.offset,p=s.leftOff,u=s.input,v=s.groupCount,d=s.arrayed;if(s.state===n.finalState&&l===u.length)return a.matched=!0,a.chain=o(n,s,r,t),a;for(var m in n.transitions[s.state]){var h=parseInt(m),y=u[l],x=n.transitions[s.state][h];"in"===x.group?(0===v&&Array.isArray(u[0])&&(u=u[0],l=0,d=!0),v+=1):"out"===x.group&&(v-=1,0===v&&(d&&(l=l===u.length?1:0,u=[u]),d=!1));var g,b;g=x.isEpsilon?l:l+1;var O,w;g<=u.length&&(x.isEpsilon?(b=x.dir?{dir:x.dir,name:x.name,op:x.op,group:x.group}:null,w={input:u,groupCount:v,arrayed:d,leftOff:p,state:h,offset:g,move:b,spec:x,prev:s,isEpsilon:!0},c.push(w)):(O=r(x,y,t),i(O)?a.lastProblem=O:l<u.length&&(b={dir:"pred"},w={input:u,groupCount:v,arrayed:d,leftOff:p,state:h,offset:g,move:b,prev:s,isEpsilon:!1,spec:x,guide:O},c.push(w))))}}return a}function o(n,e,r,t){for(var o,i=[],u=e;u;){if(!o||u.state!==o.state&&u.move){var a={isEpsilon:u.isEpsilon,move:u.move,state:u.state};u.isEpsilon||(a.guide=u.guide,a.spec=u.spec),i.unshift(a)}o=u,u=u.prev}return i}var i=r(1);n.exports=t},function(n,e){n.exports=function(n){return function(e){return e===n}}},function(n,e){n.exports=function(n){return function(e){return e instanceof n}}},function(n,e){function r(n){return"boolean"==typeof n}n.exports=r},function(n,e){n.exports=function(n){return n&&n instanceof Date&&!isNaN(n.valueOf())}},function(n,e,r){function t(n){return o(n)&&n>=0}var o=r(23);n.exports=t},function(n,e){function r(n){return null===n}n.exports=r},function(n,e){n.exports=function(n){return!!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)}},function(n,e){n.exports=function(n){return!!n&&0!==n.length}},function(n,e){function r(n){throw n}n.exports=r},function(n,e,r){var t=r(1),o=r(16);n.exports=function(n,e){var r=o(e);if(t(r))throw r}},function(n,e,r){var t=r(8);n.exports=function(n){return t(n)}},function(n,e,r){function t(n,e){if(n)return u(n)?!o(a(n,e)):!i(n)||n(e);throw new Error("Spec is required")}var o=(r(0),r(1)),i=r(7),u=r(3),a=r(16);n.exports=t},function(n,e,r){function t(n,e){function r(n,r){for(var t=(r.trailblaze,n),u=[],f=0;f<a.length;f+=1)if(t=e(a[f],n,r),i(t)){u.push(t);break}return u&&0!==u.length?new o(n,a,u,"One or more expressions failed AND test"):t}function t(n,e){return n}var a=n.exprs.map(u);return{trailblaze:r,reconstruct:t}}var o=r(0),i=r(1),u=r(17);n.exports=t},function(n,e,r){function t(n,e){function r(r,t){if(Array.isArray(r)){if(f){var c=f.maxCount,s=f.minCount;if(u(c)&&r.length>c)return new o(r,n,p,"collOf: collection size "+r.length+" exceeds maxCount "+c+".");if(u(s)&&r.length<s)return new o(r,n,p,"collOf: collection size "+r.length+" is less than minCount "+s+".")}for(var l=[],p=[],v=0;v<r.length;v+=1){var d=e(a,r[v],t);if(i(d)){p.push(d);break}l.push(d)}return p.length>0?new o(r,n,p,"One or more elements failed collOf test"):l}return new o(r,n,[],"collOf expects an array")}function t(n,r){for(var t=[],o=0;o<n.length;o+=1){var i=e(a,n[o],r);t.push(i)}return t}var a=n.exprs[0],f=n.opts;return{trailblaze:r,reconstruct:t}}var o=(r(5),r(0)),i=r(1),u=r(24);n.exports=t},function(n,e){function r(n,e){function r(r,t){var o=n.get();if(o)return e(o,r,t)}return{trailblaze:r,reconstruct:r}}n.exports=r},function(n,e,r){function t(n,e){function r(n){return n}function t(e,r){if(!e)return new i(e,n,[],"function is not specified");var t=r.conform,o=r.instrument;return t&&o?s(e,r):o?c(e,r):void 0}function c(n,e){var r=u(n),t=l(r,n,e),o=a(r,t,"__instrumented");return o}function s(n,e){var r=u(n),t=m(r,n,e),o=a(r,t,"__conformed");return o}function l(n,r){return function(){var t=Array.from(arguments),o=v(r,n,t),i=r.apply(this,o),u=d(r,n,i),a=e(y,t,{conform:!0,instrument:!0}),f=e(x,i,{conform:!0,instrument:!0});return p(n,r,g,a,f),u}}function p(e,r,t,o,u){if(t){var a=t.call(null,o,u);if(!a){var c=new i(r,n,[],"Function "+e+" failed valiation on argument-return value relation");f(c)}}}function v(r,t,u){if(!y)return u;var a=e(y,u,{phase:"trailblaze"});if(!o(a))return e(y,a,{phase:"reconstruct",conform:!1,instrument:!0});var c=new i(u,n,[a],"Arguments "+JSON.stringify(u)+" for function "+t+" failed validation");f(c)}function d(r,t,u){if(!x)return u;var a=e(x,u,{phase:"trailblaze"});if(!o(a)){var c=e(x,a,{phase:"reconstruct",instrument:!0,conform:!1});return c}var s=new i(u,n,[a],"Return value "+u+" for function "+t+" is not valid.");f(s)}function m(n,r){return function(){var t=Array.from(arguments),u=e(y,t,{conform:!0,instrument:!0});if(o(u)){var a=new i(t,y,[u],"Arguments "+JSON.stringify(t)+" for function "+n+" is not valid");f(a)}var c=r.call(this,u),s=e(x,c,{conform:!0,instrument:!0});return d(r,n,c),p(n,r,g,u,s),c}}var h=n.opts,y=h.args,x=h.ret,g=h.fn;return{trailblaze:r,reconstruct:t}}var o=r(1),i=r(0),u=r(11),a=r(32),f=r(50);r(4);n.exports=t},function(n,e,r){function t(n,e){function r(r,t){f||(f=u(n));var i=o(f,r,e,t),c=i.chain,s=i.matched,l=i.lastProblem;if(s===!0)return c;var p=[];return l&&p.push(l),new a(r,n,p,"Spec "+n.type+" did not match value")}function t(n,r){var t=i(n,e,r);return t}var f;return{trailblaze:r,reconstruct:t}}var o=r(41),i=r(40),u=r(38),a=r(0);r(1);n.exports=t},function(n,e,r){function t(n,e){function r(e,r){var t=(r.conform,r.instrument,r.trailblaze,n.exprs[0]);return t(e)?e:new i(e,n,[],"Predicate "+o(t)+"() returns false")}function t(n,e){return n}return{trailblaze:r,reconstruct:t}}var o=r(11),i=r(0);n.exports=t},function(n,e,r){function t(n,e){function r(r,t){function o(n){n:for(var o in n.fields)if(n.fields.hasOwnProperty(o)){var i=n.fields[o],u=a(r,o,i,e,t),f=u.noop,c=u.problem,s=u.singleMatch,l=u.groupMatch;if(c){m.push([o,c]);break n}if(s)h.singles.push(s);else if(l)l.matchedKeys.length>0&&h.groups.push(l);else if(!f)throw"!"}}f||(f=i(s,v,e,t));var u=f(r);if(c(u))return u;var l,d,m=[],h={val:r,groups:[],singles:[]};s&&(l=s.fieldDefs,d=s.keyList),l&&o(l);var y,x;if(v&&(y=v.fieldDefs,x=v.keyList),y&&o(y),m.length>0){for(var g={},b=[],O=0;O<m.length;O++){var w=m[O],S=w[0],_=w[1];b.push(S),g[S]=_}var A=new p(r,n,g,"At least one property failed validation: "+b.join(", "));return A}return h}function t(n,r){var t,i,a=n.val,f=n.singles,c=n.groups,p={walkOpts:r},v=r.instrument;s&&(t=s.fieldDefs,i=s.keyList);var d;return d=v?a:l({},a),f.forEach(function(n){o(d,n,e,r)}),c.forEach(function(n){var t=n.name,i=n.matchedKeys;if(p){d[t]={};var a=[];i.forEach(function(n){o(d[t],n,e,r),a.push(n.key)}),u(d,a)}else i.forEach(function(n){o(d,n,e,r)})}),d}var f,s,v,d=n.exprs[0].propArgs,m=d.requiredFields,h=d.optionalFields;return m&&(s=m.req||m.required),h&&(v=h.opt||h.optional),{trailblaze:r,reconstruct:t}}function o(n,e,r,t){var o=e.key,i=e.spec,u=e.guide;n[o]=r(i,u,t)}function i(n,e,r,t){return function(e){if(n){var o,i=[],u=[],a=n.fieldDefs,s=n.keyList;if(a){o=[];for(var l in a.fields)a.fields.hasOwnProperty(l)&&o.push(l)}else{if(!s)throw"unsupported";o=[].concat(s)}for(var v=0;v<o.length;v++){var l=o[v];if(a&&a.fields[l].keyValExprPair){var d=!1;n:for(var m in e)if(e.hasOwnProperty(m)){var h=f(m,a.fields[l].keyValExprPair.keySpecAlts,r,t);if(!c(h)){d=!0;break n}}d||u.push(l)}else if(a&&a.fields[l].valSpecAltsOnly)if(e.hasOwnProperty(l)){var h=f(e[l],a.fields[l].valSpecAltsOnly,r,t);c(h)&&(i.push(h),u.push(l))}else u.push(l);else s&&void 0===e[l]&&u.push(l)}if(u.length>0)return new p(e,n,i,"req: keys required: "+u.join(", "));if(i.length>0)return new p(e,n,i,"req: validation failed for the following keys: "+u.join(", "))}return e}}function u(n,e){for(var r=0;r<e.length;r++)delete n[[e[r]]]}function a(n,e,r,t,o){var i,u=r.valSpecAltsOnly,a=r.keyValExprPair;if(a){var l=[],p=a.keySpecAlts,d=a.valSpecAlts;i=void 0;n:for(var m in n){var h=f(m,p,t,o);if(!c(h)){if(n===n[m])continue n;var y=f(n[m],d,t,o);if(c(y))return{problem:y};l.push({key:m,spec:v(d),guide:y})}}return{groupMatch:{name:e,matchedKeys:l}}}if(u){var x=n[e];if(s(x)||n[e]===n)return{noop:!0};var g=f(x,u,t,o);return c(g)?{problem:g}:{singleMatch:{key:e,spec:v(u),guide:g}}}throw"!!"}function f(n,e,r,t){var o=v(e),i=r(o,n,t);return i}var c=r(1),s=r(10),l=r(4),p=r(0),v=(r(5),r(17));n.exports=t},function(n,e){function r(n,e){function r(r,t){var o=n.get();if(o)return e(o,r,t)}return{trailblaze:r,reconstruct:r}}n.exports=r},function(n,e,r){var t=r(4),o=r(18),i=r(12),u=r(19),a=r(13),f={Problem:r(0),Spec:r(2)},c=t(o,i,u,f,a);c.default=c,n.exports=c},function(n,e,r){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function o(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function i(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function u(n){var e=function(n){function e(){var r=arguments;t(this,e);var i=o(this,n.call(this)),u=i.constructor.propSpecs;return u&&!function(){var n=a.or(u,a.isUndefined,a.isNull),e=i.componentWillUpdate;i.componentWillUpdate=function(t){if(a.enforce(n,t),e)return e.apply(i,r)};var t=i.componentWillMount;i.componentWillMount=function(){if(a.enforce(n,i.props),t)return t.apply(i,r)}}(),i}return i(e,n),e}(n);return e}var a=r(67);e.a=u},function(n,e,r){var t,o,i;!function(r,u){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=u():(o=[],t=u,i="function"==typeof t?t.apply(e,o):t,!(void 0!==i&&(n.exports=i)))}(this,function(){"use strict";function n(n,e){return null!=n&&Object.prototype.hasOwnProperty.call(n,e)}function e(e){if(!e)return!0;if(f(e)&&0===e.length)return!0;if("string"!=typeof e){for(var r in e)if(n(e,r))return!1;return!0}return!1}function r(n){return a.call(n)}function t(n){return"object"==typeof n&&"[object Object]"===r(n)}function o(n){return"boolean"==typeof n||"[object Boolean]"===r(n)}function i(n){var e=parseInt(n);return e.toString()===n?e:n}function u(r){function u(e,t){if(r.includeInheritedProps||"number"==typeof t&&Array.isArray(e)||n(e,t))return e[t]}function a(n,e,r,t){if("number"==typeof e&&(e=[e]),!e||0===e.length)return n;if("string"==typeof e)return a(n,e.split(".").map(i),r,t);var o=e[0],f=u(n,o);return 1===e.length?(void 0!==f&&t||(n[o]=r),f):(void 0===f&&("number"==typeof e[1]?n[o]=[]:n[o]={}),a(n[o],e.slice(1),r,t))}r=r||{};var c=function(n){return Object.keys(c).reduce(function(e,r){return"create"===r?e:("function"==typeof c[r]&&(e[r]=c[r].bind(c,n)),e)},{})};return c.has=function(e,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!e;for(var o=0;o<t.length;o++){var u=i(t[o]);if(!("number"==typeof u&&f(e)&&u<e.length||(r.includeInheritedProps?u in Object(e):n(e,u))))return!1;e=e[u]}return!0},c.ensureExists=function(n,e,r){return a(n,e,r,!0)},c.set=function(n,e,r,t){return a(n,e,r,t)},c.insert=function(n,e,r,t){var o=c.get(n,e);t=~~t,f(o)||(o=[],c.set(n,e,o)),o.splice(t,0,r)},c.empty=function(r,i){if(!e(i)&&null!=r){var u,a;if(u=c.get(r,i)){if("string"==typeof u)return c.set(r,i,"");if(o(u))return c.set(r,i,!1);if("number"==typeof u)return c.set(r,i,0);if(f(u))u.length=0;else{if(!t(u))return c.set(r,i,null);for(a in u)n(u,a)&&delete u[a]}}}},c.push=function(n,e){var r=c.get(n,e);f(r)||(r=[],c.set(n,e,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},c.coalesce=function(n,e,r){for(var t,o=0,i=e.length;o<i;o++)if(void 0!==(t=c.get(n,e[o])))return t;return r},c.get=function(n,e,r){if("number"==typeof e&&(e=[e]),!e||0===e.length)return n;if(null==n)return r;if("string"==typeof e)return c.get(n,e.split("."),r);var t=i(e[0]),o=u(n,t);return void 0===o?r:1===e.length?o:c.get(n[t],e.slice(1),r)},c.del=function(n,r){if("number"==typeof r&&(r=[r]),null==n)return n;if(e(r))return n;if("string"==typeof r)return c.del(n,r.split("."));var t=i(r[0]),o=u(n,t);if(null==o)return o;if(1===r.length)f(n)?n.splice(t,1):delete n[t];else if(void 0!==n[t])return c.del(n[t],r.slice(1));return n},c}var a=Object.prototype.toString,f=Array.isArray||function(n){return"[object Array]"===a.call(n)},c=u();return c.create=u,c.withInheritedProps=u({includeInheritedProps:!0}),c})},function(n,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(r=window)}n.exports=r},function(e,r){e.exports=n},function(n,r){n.exports=e},function(n,e){function r(n){return Array.isArray(n)===!1?[n]:n}n.exports=r},function(n,e){function r(n,e){return n.conform(e)}n.exports=r},function(n,e){function r(n,e){var r,t=[];for(r=0;r<n;r++)t.push(e);return t}n.exports=r},function(n,e,r){function t(n){return JSON.stringify(n,null,2)}r(3),r(7),r(11);n.exports=t},function(n,e,r){r(12),r(35),r(36),r(37),r(9),r(12),function(){throw new Error('Cannot find module "/home/ubuntu/specky/specky-src/src/core/nfa"')}(),r(38),r(39),r(40),r(41),r(20),r(14),r(62),function(){throw new Error('Cannot find module "/home/ubuntu/specky/specky-src/src/models"')}(),r(21),r(0),r(2),r(22),r(18),r(18),r(13),r(42),r(13),r(43),r(44),r(45),r(15),r(23),r(46),r(47),r(24),r(25),r(8),r(10),r(48),r(49),r(26),r(34),r(34),r(33),r(19),r(50),r(68),r(5),r(16),r(69),r(27),r(51),r(11),r(28),r(19),r(29),r(30),r(7),r(1),r(3),r(52),r(31),r(53),r(32),r(70),r(17),r(71),r(6),r(54),r(55),r(56),r(57),r(6),r(58),r(59),r(60),n.exports=r(61)}])});